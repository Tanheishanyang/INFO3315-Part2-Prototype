<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Smart Food Delivery App Prototype</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="top-bar">
      <div class="brand">
        <span aria-hidden="true">&#129379;</span>
        <div>
          <p class="brand-name">Smart Food Delivery</p>
          <p class="brand-tagline">Sustainable meals for remote communities</p>
        </div>
      </div>
      <nav class="main-nav" aria-label="Primary">
        <button class="nav-btn" data-target="home-view">Search</button>
        <button class="nav-btn" data-target="compare-view">Compare</button>
        <button class="nav-btn" data-target="checkout-view">Checkout</button>
        <button class="nav-btn" data-target="tracking-view">Tracking</button>
        <button class="nav-btn" data-target="report-view">Report</button>
      </nav>
    </header>

    <main id="app" tabindex="-1">
      <section id="home-view" class="view active" aria-labelledby="home-title">
        <header class="view-header">
          <h1 id="home-title">Find nearby food suppliers</h1>
          <p class="view-instruction">Task 1: Use the filters to locate affordable, low-carbon options that deliver to your area.</p>
        </header>

        <form id="filter-form" class="filter-panel" aria-label="Search filters">
          <div class="field">
            <label for="search-input">Search by name or location</label>
            <input id="search-input" type="search" placeholder="Try 'Outback' or 'Remote'" />
          </div>

          <div class="field-group">
            <div class="field">
              <label for="price-filter">Price band</label>
              <select id="price-filter">
                <option value="all">Any</option>
                <option value="$">$ - Lowest cost</option>
                <option value="$$">$$ - Balanced</option>
                <option value="$$$">$$$ - Premium</option>
              </select>
            </div>

            <div class="field">
              <label for="distance-filter">Max distance (km)</label>
              <input id="distance-filter" type="range" min="5" max="60" value="40" step="5" />
              <output id="distance-output" for="distance-filter">40 km</output>
            </div>
          </div>

          <div class="field toggles">
            <label class="toggle">
              <input id="surplus-toggle" type="checkbox" />
              <span>Show surplus food offers only</span>
            </label>
            <label class="toggle">
              <input id="delivery-toggle" type="checkbox" checked />
              <span>Delivery available</span>
            </label>
          </div>
        </form>

        <section aria-live="polite" aria-atomic="true">
          <h2 class="section-title">Suppliers near you</h2>
          <p class="section-subtitle">Tap a card to compare or add a community hamper to your cart.</p>
          <div id="supplier-grid" class="supplier-grid"></div>
        </section>
      </section>

      <section id="compare-view" class="view" aria-labelledby="compare-title" hidden>
        <header class="view-header">
          <h1 id="compare-title">Compare suppliers</h1>
          <p class="view-instruction">Task 2: Choose two suppliers to see how they differ in freshness, price, and emissions.</p>
        </header>

        <div class="compare-panel">
          <div class="field">
            <label for="compare-a">Supplier A</label>
            <select id="compare-a"></select>
          </div>
          <div class="field">
            <label for="compare-b">Supplier B</label>
            <select id="compare-b"></select>
          </div>
        </div>

        <div class="comparison-table-container">
          <table class="comparison-table" aria-describedby="compare-title">
            <thead>
              <tr>
                <th scope="col">Metric</th>
                <th scope="col" id="compare-name-a">Supplier A</th>
                <th scope="col" id="compare-name-b">Supplier B</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Price</th>
                <td data-metric="price-a"></td>
                <td data-metric="price-b"></td>
              </tr>
              <tr>
                <th scope="row">Freshness score</th>
                <td data-metric="freshness-a"></td>
                <td data-metric="freshness-b"></td>
              </tr>
              <tr>
                <th scope="row">Delivery CO2 impact</th>
                <td data-metric="co2-a"></td>
                <td data-metric="co2-b"></td>
              </tr>
              <tr>
                <th scope="row">Distance</th>
                <td data-metric="distance-a"></td>
                <td data-metric="distance-b"></td>
              </tr>
              <tr>
                <th scope="row">Surplus food</th>
                <td data-metric="surplus-a"></td>
                <td data-metric="surplus-b"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section id="checkout-view" class="view" aria-labelledby="checkout-title" hidden>
        <header class="view-header">
          <h1 id="checkout-title">Review and place your order</h1>
          <p class="view-instruction">Task 3: Confirm the items in your hamper, then place the order to start tracking.</p>
        </header>

        <div class="checkout-layout">
          <section class="cart" aria-label="Cart contents">
            <h2>Cart summary</h2>
            <ul id="cart-list" class="cart-list"></ul>
            <p id="cart-empty" class="empty-state">Your hamper is empty. Add items from the search view.</p>
            <div class="cart-total">
              <span>Total</span>
              <strong id="cart-total">$0.00</strong>
            </div>
          </section>

          <section class="checkout-details" aria-label="Delivery preferences">
            <h2>Delivery preferences</h2>
            <div class="field">
              <label for="delivery-window">Delivery window</label>
              <select id="delivery-window">
                <option value="11:00 - 13:00">11:00 - 13:00</option>
                <option value="13:00 - 15:00">13:00 - 15:00</option>
                <option value="17:00 - 19:00">17:00 - 19:00</option>
              </select>
            </div>

            <div class="field">
              <label for="contact-note">Driver note</label>
              <textarea id="contact-note" rows="3" placeholder="Add directions or access notes"></textarea>
            </div>

            <button id="place-order" class="primary-btn" type="button" disabled>Place order</button>
            <p id="order-status" class="order-status" role="status" aria-live="polite"></p>
            <button id="go-to-tracking" class="secondary-btn" type="button" hidden>Go to tracking</button>
          </section>
        </div>
      </section>

      <section id="tracking-view" class="view" aria-labelledby="tracking-title" hidden>
        <header class="view-header">
          <h1 id="tracking-title">Track your delivery</h1>
          <p class="view-instruction">Task 3 (continued): Follow the delivery stages to monitor when food arrives.</p>
        </header>

        <section class="tracking-card" aria-live="polite">
          <div class="map-placeholder" role="img" aria-label="Stylised delivery map with highlighted route"></div>
          <ol class="tracking-steps" id="tracking-steps"></ol>
          <div class="progress-bar" aria-hidden="true">
            <div id="progress-indicator" class="progress-indicator"></div>
          </div>
          <button id="reset-tracking" class="secondary-btn" type="button">Restart tracking demo</button>
        </section>
      </section>

      <section id="report-view" class="view" aria-labelledby="report-title" hidden>
        <header class="view-header">
          <h1 id="report-title">Savings & sustainability report</h1>
          <p class="view-instruction">Optional Task: Review your impact after ordering surplus community hampers.</p>
        </header>

        <div class="report-grid">
          <article class="report-card">
            <h2>Money saved</h2>
            <p class="report-value" id="report-savings">$0.00</p>
            <p class="report-detail">Compared to standard metropolitan deliveries.</p>
          </article>
          <article class="report-card">
            <h2>CO2 avoided</h2>
            <p class="report-value" id="report-co2">0.0 kg</p>
            <p class="report-detail">Estimated from lower delivery distances and surplus rescue.</p>
          </article>
          <article class="report-card">
            <h2>Meals rescued</h2>
            <p class="report-value" id="report-meals">0</p>
            <p class="report-detail">Surplus portions diverted from waste this month.</p>
          </article>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <p>INFO3315 Smart Food Delivery Prototype &middot; Designed for remote community resilience</p>
    </footer>

    <script src="script.js" defer></script>
  </body>
</html>
